(this.webpackJsonppksequencer=this.webpackJsonppksequencer||[]).push([[0],[,,,,,,function(e,t,n){e.exports=n(16)},,,,,function(e,t,n){},,function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var s=n(3),o=n.n(s);n(14);function c(e){var t=e.type,n=void 0===t?"sine":t,s=e.a,c=void 0===s?0:s,a=e.d,i=void 0===a?200:a,l=e.s,r=void 0===l?50:l,u=e.r,d=void 0===u?1e3:u,m=e.freq,f=void 0===m?250:m,p=e.amp,h=void 0===p?.5:p;return{osc:new o.a.Oscillator,env:new o.a.Envelope,attack:c/1e3,decay:i/1e3,sustain:r/1e3,release:d/1e3,freq:f,amp:h,type:n,playing:!1,start:function(){this.playing=!0,this.env.setADSR(this.attack,this.decay,this.sustain,this.release),this.env.setRange(this.amp,this.amp),this.env.play(),this.osc.setType(this.type),this.osc.freq(this.freq),this.osc.amp(this.env),this.osc.start(),this.osc.stop(this.sustain)}}}},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var s=n(1),o=n.n(s),c=n(5),a=n.n(c),i=(n(11),n(2)),l=n(3),r=n.n(l),u=n(0);function d(e,t){var n=t.sample,s=t.x,o=t.y,c=t.w,a=t.h,l=t.bgOn,r=void 0===l?[199,185,110]:l,u=t.focused,d=t.seqLen,m=[149,134,58],f=[0,0,0],p=[255,255,255];return{focused:u,sample:n,isDragged:!1,isClicked:!1,selected:!1,on:!1,pattern:Array(d).fill(!1),temp:!1,render:function(t,n){e.noStroke(),t?e.fill.apply(e,Object(i.a)(this.selected?f:r)):e.fill.apply(e,Object(i.a)(this.selected?p:m)),e.rect(s,o,c,a),this.pattern[n]&&!this.on&&(this.sample.start(),this.on=!0),this.focused&&(e.fill(100),e.circle(s+c/2,o+a+15,10,10))},select:function(){return e.mouseX>=s&&e.mouseX<=s+c&&e.mouseY>=o&&e.mouseY<=o+a&&(this.selected=!this.selected,!0)},drag:function(){return this.isClicked||(e.mouseX>=s&&e.mouseX<=s+c&&e.mouseY>=o&&e.mouseY<=o+a?this.isDragged=!0:this.isDragged&&(this.selected=!this.selected,this.isDragged=!1)),this.selected}}}function m(e,t,n){var s=n.x,o=n.y,c=n.wF,a=void 0===c?1:c,l=n.hF,r=void 0===l?1:l,u=n.label,d=n.selected,m=void 0!==d&&d,f=n.bgOn,p=void 0===f?[199,185,110]:f,h=n.bgOff,b=void 0===h?[200]:h,v=n.inst,g=[255,185,110];return{inst:void 0!==v&&v,w:50*a,h:25*r,selected:m,exec:t,render:function(t){this.inst?e.fill.apply(e,Object(i.a)(this.selected?b:p)):this.selected?e.fill.apply(e,Object(i.a)(t?g:p)):e.fill.apply(e,Object(i.a)(b)),e.noStroke(),e.rect(s,o,this.w,this.h),e.noStroke(),"string"===typeof u||u instanceof String?(e.fill(255),e.textAlign(e.CENTER,e.TOP),e.text(u,s+this.w/2,o-16)):(u.resize(12,0),e.imageMode(e.CENTER),e.image(u,s+this.w/2,o-16))},select:function(){return e.mouseX>=s&&e.mouseX<=s+this.w&&e.mouseY>=o&&e.mouseY<=o+this.h&&(this.selected=!this.selected,this.inst||this.exec(),!0)}}}function f(e,t,n){var s=n.x,o=n.y,c=n.r,a=void 0===c?50:c,i=n.label,l=void 0===i?"":i,r=n.val,u=void 0===r?0:r,d=n.min,m=n.max;return{r:a,selected:!1,pos:{},val:u,min:d,max:m,label:l,exec:t,render:function(){this.val>0&&e.arc(s,o,a,a,e.PI,e.PI+e.TWO_PI*(this.val/this.max)),e.stroke(255),e.noFill(),e.circle(s,o,a),e.noStroke(),e.fill(255),e.textAlign(e.CENTER,e.TOP),e.text(this.label,s-2,o+.75*a)},select:function(){e.dist(e.mouseX,e.mouseY,s,o)<a/2&&(this.pos={x:e.mouseX,y:e.mouseY},this.selected=!0)},adjust:function(e){this.selected&&(this.val=Math.max(Math.min(this.max,this.val+e),this.min),this.exec(this.val))},reset:function(){this.selected=!1,this.pos={}}}}function p(){var e={x:window.innerWidth,y:window.innerHeight},t={init:!1,voices:16,bpm:{min:20,tic:120,max:250},step:0,muted:!1,paused:!1,recording:!1,metronome:!1,focused:0},c={samples:[],buttons:[],encoders:[]},a={metronome:{url:"img/metronome.png"}};window.addEventListener("resize",(function(){e.x=window.innerWidth,e.y=window.innerHeight}));var l="qwertyuiopasdfghjklzxcvbnm".substring(0,16);function p(e){c.samples[t.focused].focused=!1,t.focused=e,c.samples[t.focused].focused=!0,c.samples[t.focused].pattern.forEach((function(e,t){c.samples[t].selected=e})),c.encoders.forEach((function(e,n){n!==a.metronome.enc&&(e.val=c.samples[t.focused].sample[e.label.toLowerCase()])}))}function h(s){s.preload=function(){Object.keys(a).forEach((function(e){a[e].img=s.loadImage(a[e].url)}))},s.mousePressed=function(){Object.keys(c).forEach((function(e){c[e].forEach((function(n,s){if("samples"===e){var o=n.select();c[e][t.focused].pattern[s]=n.selected,n.isClicked=o}else n.select()}))}))},s.mouseDragged=function(e){c.encoders.forEach((function(t){t.adjust(-e.movementY*t.max*.01)})),c.samples.forEach((function(e,n){c.samples[t.focused].pattern[n]=e.drag()}))},s.mouseWheel=function(e){c.encoders.forEach((function(t){t.select(),t.adjust(e.delta*t.max*.01),t.reset()}))},s.mouseReleased=function(){c.encoders.forEach((function(e){e.reset()})),c.buttons.forEach((function(e){e.inst&&(e.select()&&e.exec(),e.selected=!1)})),c.samples.forEach((function(e){e.isClicked=!1}))},s.keyPressed=function(){32===s.keyCode?t.paused=!t.paused:s.keyCode===s.LEFT_ARROW?p(t.focused>0?t.focused-1:15):s.keyCode===s.RIGHT_ARROW?p(t.focused<15?t.focused+1:0):Object(i.a)(l).forEach((function(e,n){String.fromCharCode(s.keyCode)===e.toUpperCase()&&(s.keyIsDown(16)?p(n):(c.samples[n].sample.start(),c.samples[n].sample.playing=!1,t.recording&&(c.samples[n].pattern[t.step]=!0,n===t.focused&&p(n))))}))},s.setup=function(){s.frameRate(60),s.createCanvas(window.innerWidth,window.innerHeight),c.buttons.push(new m(s,(function(){c.buttons.pop(),function(e,t){var s,o=t.Clickables,c=t.Assets,a=t.Params,i=t.focusSample,l=t.DIM,r=t.SAMPLES,p=n(13).default;c.metronome.sound=new p({freq:2e3,amp:.15}),a.voices<r&&(s=Array(a.voices).fill(new p({freq:100})));for(var h=0;h<r;h++)o.samples.push(new d(e,{sample:s?s[h%a.voices]:new p({freq:100*(h+1)}),seqLen:r,x:h*(l.x/r)+l.x/r/4,y:.75*l.y,w:l.x/r/2,h:.2*l.y,focused:h===a.focused}));function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.buttons[0].w,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[.25*l.x,l.y-.35*l.y];return{x:t[0]+(e+10)*o.buttons.length,y:t[1],wF:.0015*l.x,hF:.0012*l.y}}o.buttons.push(new m(e,(function(){i(a.focused>0?a.focused-1:r-1)}),Object(u.a)({},b(0),{label:"<",inst:!0,bgOn:[100]}))),o.buttons.push(new m(e,(function(){i(a.focused<r-1?a.focused+1:0)}),Object(u.a)({},b(),{label:">",inst:!0,bgOn:[100]}))),o.buttons.push(new m(e,(function(){a.metronome=!a.metronome}),Object(u.a)({},b(),{label:c.metronome.img}))),c.metronome.btn=o.buttons.length-1,o.buttons.push(new m(e,(function(){a.paused=!a.paused}),Object(u.a)({},b(),{label:"\u25b6",selected:!0}))),o.buttons.push(new m(e,(function(){a.recording=!a.recording}),Object(u.a)({},b(),{label:"\u25cf",bgOff:[255,130,130],bgOn:[255,60,0]}))),o.buttons.push(new m(e,(function(){o.samples[a.focused].pattern.fill(!1),i(a.focused)}),Object(u.a)({},b(),{label:"CLEAR PTN",inst:!0,bgOn:[100,100,200]}))),o.buttons.push(new m(e,(function(){window.confirm("Are you sure you would like to clear the current pattern? This action cannot be undone")&&(o.samples.forEach((function(e){e.pattern.fill(!1)})),i(a.focused))}),Object(u.a)({},b(),{label:"CLEAR SEQ",inst:!0,bgOn:[200,100,200]})));var v=new f(e,null,{label:a.bpm.tic,x:l.x-50,y:50,min:a.bpm.min,max:a.bpm.max,val:a.bpm.tic});function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.encoders[1].r,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[l.x/3.25,.3*l.y];return{x:t[0]+(e+50)*o.encoders.length,y:t[1],r:e}}v.exec=function(e){a.bpm.tic=e,v.label=a.bpm.tic},c.metronome.enc=o.encoders.length,o.encoders.push(v),o.encoders.push(new f(e,(function(e){o.samples[a.focused].sample.amp=e,console.log("Amplitude on Sample ".concat(a.focused,": ").concat(e))}),Object(u.a)({},g(50),{label:"AMP",min:.01,max:1,val:.5}))),o.encoders.push(new f(e,(function(e){o.samples[a.focused].sample.freq=e,console.log("Frequency on Sample ".concat(a.focused,": ").concat(e,"Hz"))}),Object(u.a)({},g(),{label:"FREQ",min:20,max:1600,val:100}))),o.encoders.push(new f(e,(function(e){o.samples[a.focused].sample.attack=e,console.log("Attack on Sample ".concat(a.focused,": ").concat(1e3*e,"ms"))}),Object(u.a)({},g(),{label:"ATTACK",min:0,max:5,val:0}))),o.encoders.push(new f(e,(function(e){o.samples[a.focused].sample.decay=e,console.log("Decay on Sample ".concat(a.focused,": ").concat(1e3*e,"ms"))}),Object(u.a)({},g(),{label:"DECAY",min:0,max:2,val:.2}))),o.encoders.push(new f(e,(function(e){o.samples[a.focused].sample.sustain=e,console.log("Sustain on Sample ".concat(a.focused,": ").concat(1e3*e,"ms"))}),Object(u.a)({},g(),{label:"SUSTAIN",min:0,max:1,val:.05}))),o.encoders.push(new f(e,(function(e){o.samples[a.focused].sample.release=e,console.log("Release on Sample ".concat(a.focused,": ").concat(1e3*e,"ms"))}),Object(u.a)({},g(),{label:"RELEASE",min:0,max:10,val:1})))}(s,{Clickables:c,Assets:a,Params:t,focusSample:p,DIM:e,SAMPLES:16})}),{x:e.x/2.5,y:e.y/2.5,wF:5,hF:5,label:"START",inst:!0,bgOn:[0,255,100]}))},s.draw=function(){!function(t){t.background(255),t.fill(40,40,50),t.noStroke(),t.rect(0,0,e.x,e.y),t.strokeWeight(1),t.stroke(255),t.line(0,.2*e.y,e.x,.2*e.y),t.line(0,.7*e.y,e.x,.7*e.y)}(s),t.paused||0!==Math.floor(s.frameCount%(3600/t.bpm.tic/4))||(c.samples.forEach((function(e){e.on=!1})),t.step=(t.step+1)%16,t.step%4===0&&t.metronome&&a.metronome.sound.start()),c.samples.forEach((function(e,n){e.render(n===t.step,t.step)})),c.buttons.forEach((function(e,n){e.render(n===a.metronome.btn&&t.step%4===0)})),c.encoders.forEach((function(e){e.render()}))}}return Object(s.useEffect)((function(){new r.a(h)})),o.a.createElement("div",{className:"Machine"},o.a.createElement("noscript",null,"Please enable JavaScript to use this application"))}n(15);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(o.a.createElement((function(){return o.a.createElement("div",{className:"App"},o.a.createElement(p,null))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[6,1,2]]]);
//# sourceMappingURL=main.23410926.chunk.js.map