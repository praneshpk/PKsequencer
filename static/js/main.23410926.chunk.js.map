{"version":3,"sources":["components/AudioUnit.js","components/Sample.js","components/Button.js","components/Encoder.js","components/Machine.js","components/initMachine.js","serviceWorker.js","index.js","components/App.js"],"names":["AudioUnit","type","a","d","s","r","freq","amp","osc","p5","Oscillator","env","Envelope","attack","decay","sustain","release","playing","start","this","setADSR","setRange","play","setType","stop","Sample","sample","x","y","w","h","bgOn","focused","seqLen","bgOff","bgSelectedOn","bgSelectedOff","isDragged","isClicked","selected","on","pattern","Array","fill","temp","render","step","i","noStroke","rect","circle","select","mouseX","mouseY","drag","Button","func","wF","hF","label","inst","bgOnSync","exec","sync","String","textAlign","CENTER","TOP","text","resize","imageMode","image","Encoder","val","min","max","pos","arc","PI","TWO_PI","stroke","noFill","dist","adjust","dy","Math","reset","Machine","DIM","window","innerWidth","innerHeight","Params","init","voices","bpm","tic","muted","paused","recording","metronome","Clickables","samples","buttons","encoders","Assets","url","addEventListener","qwerty","substring","focusSample","forEach","e","enc","toLowerCase","sketch","preload","Object","keys","key","img","loadImage","mousePressed","inRegion","mouseDragged","event","movementY","mouseWheel","delta","mouseReleased","keyPressed","keyCode","LEFT_ARROW","SAMPLES","RIGHT_ARROW","ch","fromCharCode","toUpperCase","keyIsDown","setup","frameRate","createCanvas","push","pop","AU","require","default","sound","buttonPreset","length","btn","confirm","bpmEncoder","encoderPreset","console","log","initMachine","draw","background","strokeWeight","line","canvas","floor","frameCount","FPS","useEffect","className","Boolean","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.23410926.chunk.js","sourcesContent":["import p5 from 'p5';\nimport 'p5/lib/addons/p5.sound';\n\nexport default function AudioUnit({\n  type = 'sine', a = 0, d = 200, s = 50, r = 1000, freq = 250, amp = 0.5,\n}) {\n  return {\n    osc: new p5.Oscillator(),\n    env: new p5.Envelope(),\n    attack: a / 1000,\n    decay: d / 1000,\n    sustain: s / 1000,\n    release: r / 1000,\n    freq,\n    amp,\n    type,\n    playing: false,\n\n    start() {\n      this.playing = true;\n\n      this.env.setADSR(this.attack, this.decay, this.sustain, this.release);\n      this.env.setRange(this.amp, this.amp);\n      this.env.play();\n\n      this.osc.setType(this.type);\n      this.osc.freq(this.freq);\n      this.osc.amp(this.env);\n      this.osc.start();\n      // audio.amp(this.amp, this.a);\n      this.osc.stop(this.sustain);\n    },\n  };\n}\n","export default function Sample(p5, {\n  sample, x, y, w, h, bgOn = [199, 185, 110], focused, seqLen,\n}) {\n  const bgOff = [149, 134, 58];\n  const bgSelectedOn = [0, 0, 0];\n  const bgSelectedOff = [255, 255, 255];\n\n  return {\n    focused,\n    sample,\n    isDragged: false,\n    isClicked: false,\n    selected: false,\n    on: false,\n    pattern: Array(seqLen).fill(false),\n    temp: false,\n    render(step, i) {\n      p5.noStroke();\n      if (step) {\n        p5.fill(...this.selected ? bgSelectedOn : bgOn);\n      } else {\n        p5.fill(...this.selected ? bgSelectedOff : bgOff);\n      }\n      p5.rect(x, y, w, h);\n      if (this.pattern[i] && !this.on) {\n        this.sample.start();\n        this.on = true;\n      }\n\n      if (this.focused) {\n        p5.fill(100);\n        p5.circle(x + w / 2, y + h + 15, 10, 10);\n      }\n    },\n    select() {\n      if (p5.mouseX >= x && p5.mouseX <= x + w && p5.mouseY >= y && p5.mouseY <= y + h) {\n        this.selected = !this.selected;\n        return true;\n      }\n      return false;\n    },\n    drag() {\n      if (!this.isClicked) {\n        if (p5.mouseX >= x && p5.mouseX <= x + w && p5.mouseY >= y && p5.mouseY <= y + h) {\n          // this.selected = !this.selected;\n          this.isDragged = true;\n        } else if (this.isDragged) {\n          this.selected = !this.selected;\n          this.isDragged = false;\n        }\n      }\n      return this.selected;\n    },\n  };\n}\n","export default function Button(p5, func, {\n  x, y, wF = 1, hF = 1, label, selected = false,\n  bgOn = [199, 185, 110], bgOff = [200], inst = false,\n}) {\n  const bgOnSync = [255, 185, 110];\n\n  return {\n    inst,\n    w: 50 * wF,\n    h: 25 * hF,\n    selected,\n    exec: func,\n    render(sync) {\n      if (this.inst) {\n        p5.fill(...this.selected ? bgOff : bgOn);\n      } else if (this.selected) {\n        p5.fill(...sync ? bgOnSync : bgOn);\n      } else {\n        p5.fill(...bgOff);\n      }\n      p5.noStroke();\n      p5.rect(x, y, this.w, this.h);\n      p5.noStroke();\n      if (typeof label === 'string' || label instanceof String) {\n        p5.fill(255);\n        p5.textAlign(p5.CENTER, p5.TOP);\n        p5.text(label, x + this.w / 2, y - 16);\n      } else {\n        label.resize(12, 0);\n        p5.imageMode(p5.CENTER);\n        p5.image(label, x + this.w / 2, y - 16);\n      }\n    },\n    select() {\n      if (p5.mouseX >= x && p5.mouseX <= x + this.w && p5.mouseY >= y && p5.mouseY <= y + this.h) {\n        this.selected = !this.selected;\n        if (!this.inst) {\n          this.exec();\n        }\n        return true;\n      }\n      return false;\n    },\n  };\n}\n","export default function Encoder(p5, func, {\n  x, y, r = 50, label = '', val = 0, min, max,\n}) {\n  return {\n    r,\n    selected: false,\n    pos: {},\n    val,\n    min,\n    max,\n    label,\n    exec: func,\n    render() {\n      if (this.val > 0) {\n        p5.arc(x, y, r, r, p5.PI, p5.PI + (p5.TWO_PI * (this.val / this.max)));\n      }\n      p5.stroke(255);\n      p5.noFill();\n      p5.circle(x, y, r);\n      p5.noStroke();\n      p5.fill(255);\n      p5.textAlign(p5.CENTER, p5.TOP);\n      p5.text(this.label, x - 2, y + r * 0.75);\n    },\n    select() {\n      const d = p5.dist(p5.mouseX, p5.mouseY, x, y);\n      if (d < r / 2) {\n        this.pos = { x: p5.mouseX, y: p5.mouseY };\n        this.selected = true;\n      }\n    },\n    adjust(dy) {\n      if (this.selected) {\n        this.val = Math.max(\n          Math.min(this.max, this.val + dy),\n          this.min,\n        );\n        this.exec(this.val);\n      }\n    },\n    reset() {\n      this.selected = false;\n      this.pos = {};\n    },\n  };\n}\n","/* eslint-disable no-shadow */\nimport React, { useEffect } from 'react';\nimport p5 from 'p5';\n\nimport initMachine from './initMachine';\nimport Button from './Button';\n\nexport default function Machine() {\n  const DIM = { x: window.innerWidth, y: window.innerHeight };\n  const FPS = 60;\n  const SAMPLES = 16;\n  const Params = {\n    init: false,\n    voices: 16,\n    bpm: {\n      min: 20,\n      tic: 120,\n      max: 250,\n    },\n    step: 0,\n    muted: false,\n    paused: false,\n    recording: false,\n    metronome: false,\n    focused: 0,\n  };\n  const Clickables = {\n    samples: [],\n    buttons: [],\n    encoders: [],\n  };\n\n  const Assets = {\n    metronome: {\n      url: 'img/metronome.png',\n    },\n  };\n\n  window.addEventListener('resize', () => {\n    DIM.x = window.innerWidth;\n    DIM.y = window.innerHeight;\n  });\n\n  const qwerty = 'qwertyuiopasdfghjklzxcvbnm'.substring(0, SAMPLES);\n\n  function focusSample(i) {\n    // Remove focus from current sample\n    Clickables.samples[Params.focused].focused = false;\n\n    // Set focus sample to passed index\n    Params.focused = i;\n    Clickables.samples[Params.focused].focused = true;\n\n    // Set current pattern to machine\n    Clickables.samples[Params.focused].pattern.forEach((e, i) => {\n      Clickables.samples[i].selected = e;\n    });\n\n    // Set encoders to correct settings\n    Clickables.encoders.forEach((e, i) => {\n      if (i !== Assets.metronome.enc) {\n        e.val = Clickables.samples[Params.focused].sample[e.label.toLowerCase()];\n      }\n    });\n  }\n\n  function canvas(p5) {\n    p5.background(255);\n    p5.fill(40, 40, 50);\n    p5.noStroke();\n    p5.rect(0, 0, DIM.x, DIM.y);\n    p5.strokeWeight(1);\n    p5.stroke(255);\n    p5.line(0, DIM.y * 0.2, DIM.x, DIM.y * 0.2);\n    p5.line(0, DIM.y * 0.7, DIM.x, DIM.y * 0.7);\n  }\n\n\n  function sketch(p5) {\n    p5.preload = () => {\n      // Preload image Assets\n      Object.keys(Assets).forEach((key) => {\n        Assets[key].img = p5.loadImage(Assets[key].url);\n      });\n    };\n    p5.mousePressed = () => {\n      Object.keys(Clickables).forEach((key) => {\n        Clickables[key].forEach((e, i) => {\n          if (key === 'samples') {\n            const inRegion = e.select();\n            Clickables[key][Params.focused].pattern[i] = e.selected;\n            e.isClicked = inRegion;\n          } else {\n            e.select();\n          }\n        });\n      });\n    };\n    p5.mouseDragged = (event) => {\n      Clickables.encoders.forEach((e) => {\n        e.adjust(-event.movementY * e.max * 0.01);\n      });\n      Clickables.samples.forEach((e, i) => {\n        Clickables.samples[Params.focused].pattern[i] = e.drag();\n      });\n    };\n    p5.mouseWheel = (event) => {\n      Clickables.encoders.forEach((e) => {\n        e.select();\n        e.adjust(event.delta * e.max * 0.01);\n        e.reset();\n      });\n    };\n    p5.mouseReleased = () => {\n      Clickables.encoders.forEach((e) => {\n        e.reset();\n      });\n      // for non-toggle buttons\n      Clickables.buttons.forEach((e) => {\n        if (e.inst) {\n          if (e.select()) {\n            e.exec();\n          }\n          e.selected = false;\n        }\n      });\n      Clickables.samples.forEach((e) => {\n        e.isClicked = false;\n      });\n    };\n    p5.keyPressed = () => {\n      if (p5.keyCode === 32) {\n        Params.paused = !Params.paused;\n      } else if (p5.keyCode === p5.LEFT_ARROW) {\n        focusSample(Params.focused > 0 ? Params.focused - 1 : SAMPLES - 1);\n      } else if (p5.keyCode === p5.RIGHT_ARROW) {\n        focusSample(Params.focused < SAMPLES - 1 ? Params.focused + 1 : 0);\n      } else {\n        [...qwerty].forEach((ch, i) => {\n          if (String.fromCharCode(p5.keyCode) === ch.toUpperCase()) {\n            // Shortcut to select sample with SHIFT +\n            if (p5.keyIsDown(16)) {\n              focusSample(i);\n            } else {\n              Clickables.samples[i].sample.start();\n              Clickables.samples[i].sample.playing = false;\n              if (Params.recording) {\n                Clickables.samples[i].pattern[Params.step] = true;\n                if (i === Params.focused) {\n                  focusSample(i);\n                }\n              }\n            }\n          }\n        });\n      }\n    };\n    p5.setup = () => {\n      p5.frameRate(FPS);\n      p5.createCanvas(window.innerWidth, window.innerHeight);\n      Clickables.buttons.push(\n        new Button(p5, () => {\n          Clickables.buttons.pop();\n          initMachine(p5, {\n            Clickables, Assets, Params, focusSample, DIM, SAMPLES,\n          });\n        }, {\n          x: DIM.x / 2.5,\n          y: DIM.y / 2.5,\n          wF: 5,\n          hF: 5,\n          label: 'START',\n          inst: true,\n          bgOn: [0, 255, 100],\n        }),\n      );\n    };\n    p5.draw = () => {\n      canvas(p5);\n\n      if (!Params.paused\n        && Math.floor(p5.frameCount % (FPS / (1 / 60) / Params.bpm.tic / 4)) === 0) {\n        Clickables.samples.forEach((e) => {\n          e.on = false;\n        });\n        Params.step = (Params.step + 1) % SAMPLES;\n        if (Params.step % 4 === 0 && Params.metronome) {\n          Assets.metronome.sound.start();\n        }\n      }\n\n      Clickables.samples.forEach((e, i) => {\n        e.render(i === Params.step, Params.step);\n      });\n\n      // Make metronome button light up to the beat (play / pause)\n      Clickables.buttons.forEach((e, i) => {\n        e.render(i === Assets.metronome.btn && Params.step % 4 === 0);\n      });\n\n      Clickables.encoders.forEach((e) => {\n        e.render();\n      });\n    };\n  }\n\n  useEffect(() => {\n    // eslint-disable-next-line new-cap, no-new\n    new p5(sketch);\n  });\n\n  return (\n    <div className=\"Machine\">\n      <noscript>Please enable JavaScript to use this application</noscript>\n    </div>\n  );\n}\n","import Sample from './Sample';\nimport Button from './Button';\nimport Encoder from './Encoder';\n\nexport default function initMachine(p5, {\n  Clickables, Assets, Params, focusSample, DIM, SAMPLES,\n}) {\n  // eslint-disable-next-line global-require\n  const AudioUnit = require('./AudioUnit.js').default;\n\n  Assets.metronome.sound = new AudioUnit({ freq: 2000, amp: 0.15 });\n  let AU;\n  if (Params.voices < SAMPLES) {\n    AU = Array(Params.voices).fill(new AudioUnit({ freq: 100 }));\n  }\n  // Create samples\n  for (let i = 0; i < SAMPLES; i++) {\n    Clickables.samples.push(\n      new Sample(p5, {\n        sample: AU ? AU[i % Params.voices] : new AudioUnit({ freq: (i + 1) * 100 }),\n        seqLen: SAMPLES,\n        x: i * (DIM.x / SAMPLES) + DIM.x / SAMPLES / 4,\n        y: DIM.y * 0.75,\n        w: DIM.x / SAMPLES / 2,\n        h: DIM.y * 0.2,\n        focused: i === Params.focused,\n      }),\n    );\n  }\n\n  /* Buttons */\n  // Button style preset\n  function buttonPreset(w = Clickables.buttons[0].w,\n    start = [DIM.x * 0.25, DIM.y - DIM.y * 0.35]) {\n    return {\n      x: start[0] + (w + 10) * Clickables.buttons.length,\n      y: start[1],\n      wF: DIM.x * 0.0015,\n      hF: DIM.y * 0.0012,\n    };\n  }\n\n  // Left sample\n  Clickables.buttons.push(\n    new Button(p5, () => {\n      focusSample(Params.focused > 0 ? Params.focused - 1 : SAMPLES - 1);\n    }, {\n      ...buttonPreset(0),\n      label: '<',\n      inst: true,\n      bgOn: [100],\n    }),\n  );\n  // Right sample\n  Clickables.buttons.push(\n    new Button(p5, () => {\n      focusSample(Params.focused < SAMPLES - 1 ? Params.focused + 1 : 0);\n    }, {\n      ...buttonPreset(),\n      label: '>',\n      inst: true,\n      bgOn: [100],\n    }),\n  );\n\n  // Metronome\n  Clickables.buttons.push(\n    new Button(p5, () => {\n      Params.metronome = !Params.metronome;\n    }, {\n      ...buttonPreset(),\n      label: Assets.metronome.img,\n    }),\n  );\n  Assets.metronome.btn = Clickables.buttons.length - 1;\n\n  // Play / pause\n  Clickables.buttons.push(\n    new Button(p5, () => { Params.paused = !Params.paused; }, {\n      ...buttonPreset(),\n      label: '▶',\n      selected: true,\n    }),\n  );\n\n  // Record\n  Clickables.buttons.push(\n    new Button(p5, () => { Params.recording = !Params.recording; }, {\n      ...buttonPreset(),\n      label: '●',\n      bgOff: [255, 130, 130],\n      bgOn: [255, 60, 0],\n    }),\n  );\n  // Clear part\n  Clickables.buttons.push(\n    new Button(p5, () => {\n      Clickables.samples[Params.focused].pattern.fill(false);\n      focusSample(Params.focused);\n    }, {\n      ...buttonPreset(),\n      label: 'CLEAR PTN',\n      inst: true,\n      bgOn: [100, 100, 200],\n    }),\n  );\n  // Clear pattern\n  Clickables.buttons.push(\n    new Button(p5, () => {\n      // TODO: Replace with custom dialog\n      if (window.confirm('Are you sure you would like to clear the current pattern? This action cannot be undone')) {\n        Clickables.samples.forEach((e) => { e.pattern.fill(false); });\n        focusSample(Params.focused);\n      }\n    }, {\n      ...buttonPreset(),\n      label: 'CLEAR SEQ',\n      inst: true,\n      bgOn: [200, 100, 200],\n    }),\n  );\n\n  /* Encoders */\n\n  // BPM\n  const bpmEncoder = new Encoder(p5, null, {\n    label: Params.bpm.tic,\n    x: DIM.x - 50,\n    y: 50,\n    min: Params.bpm.min,\n    max: Params.bpm.max,\n    val: Params.bpm.tic,\n  });\n  bpmEncoder.exec = (val) => {\n    Params.bpm.tic = val;\n    bpmEncoder.label = Params.bpm.tic;\n  };\n  // Makes sure metronome does not change on bank change\n  Assets.metronome.enc = Clickables.encoders.length;\n  Clickables.encoders.push(bpmEncoder);\n\n  // Encoder style preset\n  function encoderPreset(r = Clickables.encoders[1].r,\n    start = [DIM.x / 3.25, DIM.y * 0.3]) {\n    return {\n      x: start[0] + (r + 50) * Clickables.encoders.length,\n      y: start[1],\n      r,\n    };\n  }\n  // Amplification\n  Clickables.encoders.push(\n    new Encoder(p5, (val) => {\n      Clickables.samples[Params.focused].sample.amp = val;\n      console.log(`Amplitude on Sample ${Params.focused}: ${val}`);\n    }, {\n      ...encoderPreset(50),\n      label: 'AMP',\n      min: 0.01,\n      max: 1,\n      val: 0.5,\n    }),\n  );\n  // Frequency\n  Clickables.encoders.push(\n    new Encoder(p5, (val) => {\n      Clickables.samples[Params.focused].sample.freq = val;\n      console.log(`Frequency on Sample ${Params.focused}: ${val}Hz`);\n    }, {\n      ...encoderPreset(),\n      label: 'FREQ',\n      min: 20,\n      max: 1600,\n      val: 100,\n    }),\n  );\n  // Attack\n  Clickables.encoders.push(\n    new Encoder(p5, (val) => {\n      Clickables.samples[Params.focused].sample.attack = val;\n      console.log(`Attack on Sample ${Params.focused}: ${val * 1000}ms`);\n    }, {\n      ...encoderPreset(),\n      label: 'ATTACK',\n      min: 0,\n      max: 5,\n      val: 0,\n    }),\n  );\n  // Decay\n  Clickables.encoders.push(\n    new Encoder(p5, (val) => {\n      Clickables.samples[Params.focused].sample.decay = val;\n      console.log(`Decay on Sample ${Params.focused}: ${val * 1000}ms`);\n    }, {\n      ...encoderPreset(),\n      label: 'DECAY',\n      min: 0,\n      max: 2,\n      val: 0.2,\n    }),\n  );\n  // Sustain\n  Clickables.encoders.push(\n    new Encoder(p5, (val) => {\n      Clickables.samples[Params.focused].sample.sustain = val;\n      console.log(`Sustain on Sample ${Params.focused}: ${val * 1000}ms`);\n    }, {\n      ...encoderPreset(),\n      label: 'SUSTAIN',\n      min: 0,\n      max: 1,\n      val: 0.05,\n    }),\n  );\n  // Release\n  Clickables.encoders.push(\n    new Encoder(p5, (val) => {\n      Clickables.samples[Params.focused].sample.release = val;\n      console.log(`Release on Sample ${Params.focused}: ${val * 1000}ms`);\n    }, {\n      ...encoderPreset(),\n      label: 'RELEASE',\n      min: 0,\n      max: 10,\n      val: 1,\n    }),\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from 'react';\nimport Machine from './Machine';\nimport './App.scss';\n\nexport default function App() {\n  // function canvas(p5) {\n  //   p5.background(255);\n  //   p5.fill(40, 40, 50);\n  //   p5.rect(0, 0, D[0], D[1]);\n  //   p5.stroke(255);\n  //   p5.line(0, D[1] * .2, D[0], D[1] * .2);\n  //   p5.line(0, D[1] * .7, D[0], D[1] * .7);\n\n  //   if (!paused && Math.floor(p5.frameCount % (FPS * 60 / BPM / (SAMPLES))) === 0) {\n  //     step = (step + 1) % SAMPLES;\n  //   }\n  //   contexts.forEach((e, i) => sample(i === step, bass, e));\n  // }\n\n\n  return (\n    <div className=\"App\">\n      <Machine />\n    </div>\n  );\n}"],"sourceRoot":""}